{"ast":null,"code":"import*as THREE from'three';import{GLTFLoader}from'three/examples/jsm/loaders/GLTFLoader.js';import{GPUMonitor}from'./GPUMonitor';// Ensure implemented or stubbed\nexport function createDoorScene(mountNode){const scene=new THREE.Scene();scene.background=new THREE.Color(0xffffff);const camera=new THREE.PerspectiveCamera(60,mountNode.clientWidth/mountNode.clientHeight,0.1,1000);camera.position.set(0,1,3);const renderer=new THREE.WebGLRenderer({antialias:true,powerPreference:'low-power'});// Adaptive resolution params (mutable)\nlet pixelRatioClamp=1.5;// max device pixel ratio used\nlet viewportScale=1.0;// render size factor relative to canvas size\nconst applyRendererSizing=()=>{const canvasW=mountNode.clientWidth;const canvasH=mountNode.clientHeight;const renderW=Math.max(1,Math.floor(canvasW*viewportScale));const renderH=Math.max(1,Math.floor(canvasH*viewportScale));renderer.setPixelRatio(Math.min(window.devicePixelRatio||1,pixelRatioClamp));renderer.setSize(renderW,renderH,false);// Upscale to fit the container while rendering at lower res\nrenderer.domElement.style.width=canvasW+'px';renderer.domElement.style.height=canvasH+'px';renderer.domElement.style.imageRendering='pixelated';};applyRendererSizing();mountNode.appendChild(renderer.domElement);const gpuMonitor=new GPUMonitor(renderer);const ambientLight=new THREE.AmbientLight(0xffffff,0.7);const directionalLight=new THREE.DirectionalLight(0xffffff,1);directionalLight.position.set(5,5,5);scene.add(ambientLight);scene.add(directionalLight);const loader=new GLTFLoader();let model=null;let isModelLoaded=false;loader.load('/models/car.glb',// Ensure model is in /public/models/car_model.glb\ngltf=>{model=gltf.scene;model.scale.set(0.5,0.5,0.5);model.position.set(0,0,0);scene.add(model);isModelLoaded=true;},undefined,error=>console.error('Model load error:',error));// Minimal overlay for current settings (metrics live in dashboard)\nconst overlay=document.createElement('div');overlay.style.position='absolute';overlay.style.top='10px';overlay.style.left='10px';overlay.style.background='rgba(255,255,255,0.85)';overlay.style.padding='8px 10px';overlay.style.borderRadius='12px';overlay.style.fontFamily='Arial, sans-serif';overlay.style.fontSize='12px';overlay.style.color='#333';overlay.style.zIndex='10';overlay.style.boxShadow='0 10px 20px rgba(0,0,0,0.2)';overlay.style.border='1px solid rgba(0,0,0,0.1)';mountNode.style.position='relative';const updateOverlayText=()=>{const content=document.createElement('div');content.textContent=\"Resolution: PR\\u2264\".concat(pixelRatioClamp.toFixed(2),\" \\u2022 Viewport \").concat((viewportScale*100).toFixed(0),\"%\");const row=document.createElement('div');row.style.display='flex';row.style.alignItems='center';row.style.gap='8px';const title=document.createElement('strong');title.textContent='Scene Settings';title.style.fontSize='12px';row.appendChild(title);overlay.innerHTML='';overlay.appendChild(row);overlay.appendChild(content);};updateOverlayText();mountNode.appendChild(overlay);// Collapsible overlay handle\nlet overlayCollapsed=false;const collapseBtn=document.createElement('button');collapseBtn.textContent='âˆ’';collapseBtn.style.background='transparent';collapseBtn.style.border='none';collapseBtn.style.cursor='pointer';collapseBtn.style.fontSize='14px';collapseBtn.style.marginLeft='6px';collapseBtn.title='Collapse';overlay.firstChild&&overlay.firstChild.appendChild(collapseBtn);const collapsedPill=document.createElement('button');collapsedPill.textContent='Scene Settings';collapsedPill.style.position='absolute';collapsedPill.style.top='10px';collapsedPill.style.left='10px';collapsedPill.style.padding='6px 10px';collapsedPill.style.borderRadius='999px';collapsedPill.style.border='1px solid rgba(0,0,0,0.15)';collapsedPill.style.background='rgba(255,255,255,0.9)';collapsedPill.style.fontFamily='Arial, sans-serif';collapsedPill.style.fontSize='12px';collapsedPill.style.cursor='pointer';collapsedPill.style.boxShadow='0 8px 16px rgba(0,0,0,0.15)';collapsedPill.style.display='none';collapsedPill.style.zIndex='11';collapsedPill.addEventListener('click',()=>{overlayCollapsed=false;overlay.style.display='block';collapsedPill.style.display='none';});mountNode.appendChild(collapsedPill);collapseBtn.addEventListener('click',()=>{overlayCollapsed=!overlayCollapsed;if(overlayCollapsed){overlay.style.display='none';collapsedPill.style.display='inline-block';}else{overlay.style.display='block';collapsedPill.style.display='none';}});// Interaction variables\nlet isDragging=false;let prevX=0;let prevY=0;function onPointerDown(e){isDragging=true;prevX=e.clientX;prevY=e.clientY;}function onPointerMove(e){if(!isDragging||!isModelLoaded)return;const deltaX=e.clientX-prevX;const deltaY=e.clientY-prevY;model.rotation.y+=deltaX*0.005;model.rotation.x+=deltaY*0.005;// Clamp vertical rotation to prevent flipping\nmodel.rotation.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,model.rotation.x));prevX=e.clientX;prevY=e.clientY;}function onPointerUp(){isDragging=false;}renderer.domElement.addEventListener('pointerdown',onPointerDown);renderer.domElement.addEventListener('pointermove',onPointerMove);renderer.domElement.addEventListener('pointerup',onPointerUp);renderer.domElement.addEventListener('pointerleave',onPointerUp);// Render cadence control\nlet targetFps=30;// foreground FPS target\nlet backgroundFps=5;// when tab/page is hidden\nlet frameIntervalMs=1000/targetFps;let lastRenderTime=0;let isHidden=typeof document!=='undefined'?document.hidden:false;// Smooth recovery state\nlet rampStartMs=0;let rampDurationMs=900;function getEffectiveIntervalMs(now){const hiddenInterval=1000/Math.max(1,backgroundFps);const visibleInterval=frameIntervalMs;if(isHidden)return hiddenInterval;// If we just became visible, ramp from hiddenInterval to visibleInterval\nconst t=rampStartMs?Math.min(1,(now-rampStartMs)/rampDurationMs):1;const eased=t<1?t*t*(3-2*t):1;// smoothstep easing\nconst eff=hiddenInterval+(visibleInterval-hiddenInterval)*eased;return eff;}function animate(now){if(!lastRenderTime)lastRenderTime=now;const elapsed=now-lastRenderTime;const effInterval=getEffectiveIntervalMs(now);if(elapsed>=effInterval){renderer.render(scene,camera);if(gpuMonitor&&typeof gpuMonitor.onFrameRendered==='function'){gpuMonitor.onFrameRendered(now);}lastRenderTime=now;}requestAnimationFrame(animate);}requestAnimationFrame(animate);function setPerformanceMode(mode){if(mode==='baseline'){targetFps=60;frameIntervalMs=1000/targetFps;pixelRatioClamp=3;}else{targetFps=30;frameIntervalMs=1000/targetFps;pixelRatioClamp=1.5;}applyRendererSizing();}function setTargetFps(nextFps){targetFps=Math.max(1,Math.min(120,nextFps||30));frameIntervalMs=1000/targetFps;}function setBackgroundFps(nextFps){backgroundFps=Math.max(1,Math.min(30,nextFps||5));}function setPixelRatioClampValue(nextClamp){pixelRatioClamp=Math.max(0.5,Math.min(3,nextClamp||1.5));applyRendererSizing();updateOverlayText();}function setViewportScaleValue(nextScale){viewportScale=Math.max(0.3,Math.min(1,nextScale||1));applyRendererSizing();updateOverlayText();}// Sustainable themes: light, dark, eink, high-contrast\nlet currentTheme='light';function setTheme(theme){currentTheme=theme;if(theme==='dark'){scene.background=new THREE.Color(0x0b0b0b);ambientLight.intensity=0.35;directionalLight.intensity=0.6;}else if(theme==='eink'){scene.background=new THREE.Color(0xf2f2f2);ambientLight.intensity=0.25;directionalLight.intensity=0.4;// Force materials to grayscale\nscene.traverse(obj=>{if(obj.isMesh&&obj.material){if(Array.isArray(obj.material)){obj.material.forEach(m=>{m.color=new THREE.Color(0x222222);m.metalness=0;m.roughness=1;});}else{obj.material.color=new THREE.Color(0x222222);if('metalness'in obj.material)obj.material.metalness=0;if('roughness'in obj.material)obj.material.roughness=1;}}});}else if(theme==='high-contrast'){scene.background=new THREE.Color(0x000000);ambientLight.intensity=0.2;directionalLight.intensity=1.2;directionalLight.color=new THREE.Color(0xffffff);}else{// light\nscene.background=new THREE.Color(0xffffff);ambientLight.intensity=0.7;directionalLight.intensity=1.0;}// Overlay styling according to theme brightness\noverlay.style.background=theme==='dark'||theme==='high-contrast'?'rgba(0,0,0,0.7)':'rgba(255,255,255,0.85)';overlay.style.color=theme==='dark'||theme==='high-contrast'?'#fff':'#333';}window.addEventListener('resize',()=>{camera.aspect=mountNode.clientWidth/mountNode.clientHeight;camera.updateProjectionMatrix();applyRendererSizing();});document.addEventListener('visibilitychange',()=>{const wasHidden=isHidden;isHidden=document.hidden;if(!isHidden&&wasHidden){rampStartMs=performance.now();}});function cleanup(){renderer.domElement.removeEventListener('pointerdown',onPointerDown);renderer.domElement.removeEventListener('pointermove',onPointerMove);renderer.domElement.removeEventListener('pointerup',onPointerUp);renderer.domElement.removeEventListener('pointerleave',onPointerUp);if(model){model.traverse(child=>{if(child.geometry)child.geometry.dispose();if(child.material)child.material.dispose();});}gpuMonitor.destroy();renderer.dispose();if(mountNode){mountNode.removeChild(renderer.domElement);}if(overlay&&overlay.parentNode){overlay.parentNode.removeChild(overlay);}}function getCurrentSettings(){return{targetFps,backgroundFps,pixelRatioClamp,viewportScale,theme:currentTheme};}return{cleanup,gpuMonitor,scene,renderer,setPerformanceMode,setTargetFps,setBackgroundFps,setPixelRatioClamp:setPixelRatioClampValue,setViewportScale:setViewportScaleValue,setTheme,getCurrentSettings,currentTheme};}","map":{"version":3,"names":["THREE","GLTFLoader","GPUMonitor","createDoorScene","mountNode","scene","Scene","background","Color","camera","PerspectiveCamera","clientWidth","clientHeight","position","set","renderer","WebGLRenderer","antialias","powerPreference","pixelRatioClamp","viewportScale","applyRendererSizing","canvasW","canvasH","renderW","Math","max","floor","renderH","setPixelRatio","min","window","devicePixelRatio","setSize","domElement","style","width","height","imageRendering","appendChild","gpuMonitor","ambientLight","AmbientLight","directionalLight","DirectionalLight","add","loader","model","isModelLoaded","load","gltf","scale","undefined","error","console","overlay","document","createElement","top","left","padding","borderRadius","fontFamily","fontSize","color","zIndex","boxShadow","border","updateOverlayText","content","textContent","concat","toFixed","row","display","alignItems","gap","title","innerHTML","overlayCollapsed","collapseBtn","cursor","marginLeft","firstChild","collapsedPill","addEventListener","isDragging","prevX","prevY","onPointerDown","e","clientX","clientY","onPointerMove","deltaX","deltaY","rotation","y","x","PI","onPointerUp","targetFps","backgroundFps","frameIntervalMs","lastRenderTime","isHidden","hidden","rampStartMs","rampDurationMs","getEffectiveIntervalMs","now","hiddenInterval","visibleInterval","t","eased","eff","animate","elapsed","effInterval","render","onFrameRendered","requestAnimationFrame","setPerformanceMode","mode","setTargetFps","nextFps","setBackgroundFps","setPixelRatioClampValue","nextClamp","setViewportScaleValue","nextScale","currentTheme","setTheme","theme","intensity","traverse","obj","isMesh","material","Array","isArray","forEach","m","metalness","roughness","aspect","updateProjectionMatrix","wasHidden","performance","cleanup","removeEventListener","child","geometry","dispose","destroy","removeChild","parentNode","getCurrentSettings","setPixelRatioClamp","setViewportScale"],"sources":["C:/D-Drive/AI For Retail/Sustainability Hackathon FLO 2025/Latest Code/sustainable-ux/src/doorScene.js"],"sourcesContent":["import * as THREE from 'three';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { GPUMonitor } from './GPUMonitor';  // Ensure implemented or stubbed\n\nexport function createDoorScene(mountNode) {\n  const scene = new THREE.Scene();\n  scene.background = new THREE.Color(0xffffff);\n\n  const camera = new THREE.PerspectiveCamera(\n    60,\n    mountNode.clientWidth / mountNode.clientHeight,\n    0.1,\n    1000\n  );\n  camera.position.set(0, 1, 3);\n\n  const renderer = new THREE.WebGLRenderer({ antialias: true, powerPreference: 'low-power' });\n  // Adaptive resolution params (mutable)\n  let pixelRatioClamp = 1.5; // max device pixel ratio used\n  let viewportScale = 1.0;   // render size factor relative to canvas size\n  const applyRendererSizing = () => {\n    const canvasW = mountNode.clientWidth;\n    const canvasH = mountNode.clientHeight;\n    const renderW = Math.max(1, Math.floor(canvasW * viewportScale));\n    const renderH = Math.max(1, Math.floor(canvasH * viewportScale));\n    renderer.setPixelRatio(Math.min(window.devicePixelRatio || 1, pixelRatioClamp));\n    renderer.setSize(renderW, renderH, false);\n    // Upscale to fit the container while rendering at lower res\n    renderer.domElement.style.width = canvasW + 'px';\n    renderer.domElement.style.height = canvasH + 'px';\n    renderer.domElement.style.imageRendering = 'pixelated';\n  };\n  applyRendererSizing();\n  mountNode.appendChild(renderer.domElement);\n\n  const gpuMonitor = new GPUMonitor(renderer);\n\n  const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);\n  const directionalLight = new THREE.DirectionalLight(0xffffff, 1);\n  directionalLight.position.set(5, 5, 5);\n  scene.add(ambientLight);\n  scene.add(directionalLight);\n\n  const loader = new GLTFLoader();\n  let model = null;\n  let isModelLoaded = false;\n\n  loader.load(\n    '/models/car.glb',  // Ensure model is in /public/models/car_model.glb\n    (gltf) => {\n      model = gltf.scene;\n      model.scale.set(0.5, 0.5, 0.5);\n      model.position.set(0, 0, 0);\n      scene.add(model);\n      isModelLoaded = true;\n    },\n    undefined,\n    (error) => console.error('Model load error:', error)\n  );\n\n  // Minimal overlay for current settings (metrics live in dashboard)\n  const overlay = document.createElement('div');\n  overlay.style.position = 'absolute';\n  overlay.style.top = '10px';\n  overlay.style.left = '10px';\n  overlay.style.background = 'rgba(255,255,255,0.85)';\n  overlay.style.padding = '8px 10px';\n  overlay.style.borderRadius = '12px';\n  overlay.style.fontFamily = 'Arial, sans-serif';\n  overlay.style.fontSize = '12px';\n  overlay.style.color = '#333';\n  overlay.style.zIndex = '10';\n  overlay.style.boxShadow = '0 10px 20px rgba(0,0,0,0.2)';\n  overlay.style.border = '1px solid rgba(0,0,0,0.1)';\n  mountNode.style.position = 'relative';\n  const updateOverlayText = () => {\n    const content = document.createElement('div');\n    content.textContent = `Resolution: PRâ‰¤${pixelRatioClamp.toFixed(2)} â€¢ Viewport ${(viewportScale*100).toFixed(0)}%`;\n    const row = document.createElement('div');\n    row.style.display = 'flex';\n    row.style.alignItems = 'center';\n    row.style.gap = '8px';\n    const title = document.createElement('strong');\n    title.textContent = 'Scene Settings';\n    title.style.fontSize = '12px';\n    row.appendChild(title);\n    overlay.innerHTML = '';\n    overlay.appendChild(row);\n    overlay.appendChild(content);\n  };\n  updateOverlayText();\n  mountNode.appendChild(overlay);\n\n  // Collapsible overlay handle\n  let overlayCollapsed = false;\n  const collapseBtn = document.createElement('button');\n  collapseBtn.textContent = 'âˆ’';\n  collapseBtn.style.background = 'transparent';\n  collapseBtn.style.border = 'none';\n  collapseBtn.style.cursor = 'pointer';\n  collapseBtn.style.fontSize = '14px';\n  collapseBtn.style.marginLeft = '6px';\n  collapseBtn.title = 'Collapse';\n  overlay.firstChild && overlay.firstChild.appendChild(collapseBtn);\n  const collapsedPill = document.createElement('button');\n  collapsedPill.textContent = 'Scene Settings';\n  collapsedPill.style.position = 'absolute';\n  collapsedPill.style.top = '10px';\n  collapsedPill.style.left = '10px';\n  collapsedPill.style.padding = '6px 10px';\n  collapsedPill.style.borderRadius = '999px';\n  collapsedPill.style.border = '1px solid rgba(0,0,0,0.15)';\n  collapsedPill.style.background = 'rgba(255,255,255,0.9)';\n  collapsedPill.style.fontFamily = 'Arial, sans-serif';\n  collapsedPill.style.fontSize = '12px';\n  collapsedPill.style.cursor = 'pointer';\n  collapsedPill.style.boxShadow = '0 8px 16px rgba(0,0,0,0.15)';\n  collapsedPill.style.display = 'none';\n  collapsedPill.style.zIndex = '11';\n  collapsedPill.addEventListener('click', () => {\n    overlayCollapsed = false;\n    overlay.style.display = 'block';\n    collapsedPill.style.display = 'none';\n  });\n  mountNode.appendChild(collapsedPill);\n  collapseBtn.addEventListener('click', () => {\n    overlayCollapsed = !overlayCollapsed;\n    if (overlayCollapsed) {\n      overlay.style.display = 'none';\n      collapsedPill.style.display = 'inline-block';\n    } else {\n      overlay.style.display = 'block';\n      collapsedPill.style.display = 'none';\n    }\n  });\n\n  // Interaction variables\n  let isDragging = false;\n  let prevX = 0;\n  let prevY = 0;\n\n  function onPointerDown(e) {\n    isDragging = true;\n    prevX = e.clientX;\n    prevY = e.clientY;\n  }\n\n  function onPointerMove(e) {\n    if (!isDragging || !isModelLoaded) return;\n\n    const deltaX = e.clientX - prevX;\n    const deltaY = e.clientY - prevY;\n\n    model.rotation.y += deltaX * 0.005;\n    model.rotation.x += deltaY * 0.005;\n\n    // Clamp vertical rotation to prevent flipping\n    model.rotation.x = Math.max(-Math.PI / 2, Math.min(Math.PI / 2, model.rotation.x));\n\n    prevX = e.clientX;\n    prevY = e.clientY;\n  }\n\n  function onPointerUp() {\n    isDragging = false;\n  }\n\n  renderer.domElement.addEventListener('pointerdown', onPointerDown);\n  renderer.domElement.addEventListener('pointermove', onPointerMove);\n  renderer.domElement.addEventListener('pointerup', onPointerUp);\n  renderer.domElement.addEventListener('pointerleave', onPointerUp);\n\n  // Render cadence control\n  let targetFps = 30;                 // foreground FPS target\n  let backgroundFps = 5;              // when tab/page is hidden\n  let frameIntervalMs = 1000 / targetFps;\n  let lastRenderTime = 0;\n  let isHidden = typeof document !== 'undefined' ? document.hidden : false;\n  // Smooth recovery state\n  let rampStartMs = 0;\n  let rampDurationMs = 900;\n\n  function getEffectiveIntervalMs(now) {\n    const hiddenInterval = 1000 / Math.max(1, backgroundFps);\n    const visibleInterval = frameIntervalMs;\n    if (isHidden) return hiddenInterval;\n    // If we just became visible, ramp from hiddenInterval to visibleInterval\n    const t = rampStartMs ? Math.min(1, (now - rampStartMs) / rampDurationMs) : 1;\n    const eased = t < 1 ? (t*t*(3 - 2*t)) : 1; // smoothstep easing\n    const eff = hiddenInterval + (visibleInterval - hiddenInterval) * eased;\n    return eff;\n  }\n\n  function animate(now) {\n    if (!lastRenderTime) lastRenderTime = now;\n    const elapsed = now - lastRenderTime;\n    const effInterval = getEffectiveIntervalMs(now);\n    if (elapsed >= effInterval) {\n      renderer.render(scene, camera);\n      if (gpuMonitor && typeof gpuMonitor.onFrameRendered === 'function') {\n        gpuMonitor.onFrameRendered(now);\n      }\n      lastRenderTime = now;\n    }\n    requestAnimationFrame(animate);\n  }\n\n  requestAnimationFrame(animate);\n\n  function setPerformanceMode(mode) {\n    if (mode === 'baseline') {\n      targetFps = 60;\n      frameIntervalMs = 1000 / targetFps;\n      pixelRatioClamp = 3;\n    } else {\n      targetFps = 30;\n      frameIntervalMs = 1000 / targetFps;\n      pixelRatioClamp = 1.5;\n    }\n    applyRendererSizing();\n  }\n\n  function setTargetFps(nextFps) {\n    targetFps = Math.max(1, Math.min(120, nextFps || 30));\n    frameIntervalMs = 1000 / targetFps;\n  }\n\n  function setBackgroundFps(nextFps) {\n    backgroundFps = Math.max(1, Math.min(30, nextFps || 5));\n  }\n\n  function setPixelRatioClampValue(nextClamp) {\n    pixelRatioClamp = Math.max(0.5, Math.min(3, nextClamp || 1.5));\n    applyRendererSizing();\n    updateOverlayText();\n  }\n\n  function setViewportScaleValue(nextScale) {\n    viewportScale = Math.max(0.3, Math.min(1, nextScale || 1));\n    applyRendererSizing();\n    updateOverlayText();\n  }\n\n  // Sustainable themes: light, dark, eink, high-contrast\n  let currentTheme = 'light';\n  function setTheme(theme) {\n    currentTheme = theme;\n    if (theme === 'dark') {\n      scene.background = new THREE.Color(0x0b0b0b);\n      ambientLight.intensity = 0.35;\n      directionalLight.intensity = 0.6;\n    } else if (theme === 'eink') {\n      scene.background = new THREE.Color(0xf2f2f2);\n      ambientLight.intensity = 0.25;\n      directionalLight.intensity = 0.4;\n      // Force materials to grayscale\n      scene.traverse((obj) => {\n        if (obj.isMesh && obj.material) {\n          if (Array.isArray(obj.material)) {\n            obj.material.forEach(m => { m.color = new THREE.Color(0x222222); m.metalness = 0; m.roughness = 1; });\n          } else {\n            obj.material.color = new THREE.Color(0x222222);\n            if ('metalness' in obj.material) obj.material.metalness = 0;\n            if ('roughness' in obj.material) obj.material.roughness = 1;\n          }\n        }\n      });\n    } else if (theme === 'high-contrast') {\n      scene.background = new THREE.Color(0x000000);\n      ambientLight.intensity = 0.2;\n      directionalLight.intensity = 1.2;\n      directionalLight.color = new THREE.Color(0xffffff);\n    } else { // light\n      scene.background = new THREE.Color(0xffffff);\n      ambientLight.intensity = 0.7;\n      directionalLight.intensity = 1.0;\n    }\n    // Overlay styling according to theme brightness\n    overlay.style.background = (theme === 'dark' || theme === 'high-contrast') ? 'rgba(0,0,0,0.7)' : 'rgba(255,255,255,0.85)';\n    overlay.style.color = (theme === 'dark' || theme === 'high-contrast') ? '#fff' : '#333';\n  }\n\n  window.addEventListener('resize', () => {\n    camera.aspect = mountNode.clientWidth / mountNode.clientHeight;\n    camera.updateProjectionMatrix();\n    applyRendererSizing();\n  });\n\n  document.addEventListener('visibilitychange', () => {\n    const wasHidden = isHidden;\n    isHidden = document.hidden;\n    if (!isHidden && wasHidden) {\n      rampStartMs = performance.now();\n    }\n  });\n\n  function cleanup() {\n    renderer.domElement.removeEventListener('pointerdown', onPointerDown);\n    renderer.domElement.removeEventListener('pointermove', onPointerMove);\n    renderer.domElement.removeEventListener('pointerup', onPointerUp);\n    renderer.domElement.removeEventListener('pointerleave', onPointerUp);\n\n    if (model) {\n      model.traverse((child) => {\n        if (child.geometry) child.geometry.dispose();\n        if (child.material) child.material.dispose();\n      });\n    }\n\n    gpuMonitor.destroy();\n    renderer.dispose();\n\n    if (mountNode) {\n      mountNode.removeChild(renderer.domElement);\n    }\n    if (overlay && overlay.parentNode) {\n      overlay.parentNode.removeChild(overlay);\n    }\n  }\n\n  function getCurrentSettings() {\n    return {\n      targetFps,\n      backgroundFps,\n      pixelRatioClamp,\n      viewportScale,\n      theme: currentTheme\n    };\n  }\n\n  return {\n    cleanup,\n    gpuMonitor,\n    scene,\n    renderer,\n    setPerformanceMode,\n    setTargetFps,\n    setBackgroundFps,\n    setPixelRatioClamp: setPixelRatioClampValue,\n    setViewportScale: setViewportScaleValue,\n    setTheme,\n    getCurrentSettings,\n    currentTheme\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}